webpackJsonp([120],{Ywq6:function(t,e){},oNkO:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("0e2d"),a={components:{},data:function(){return{loading:!1,query:this.$route.query,api:i.default,links:{list:{name:"factory-list"}},form:{validate:this.$handleFormValidate,entity:{},labelWidth:"120px",rules:{name:this.$rule.name("名称",null,32)},items:[{field:"name",component:this.$template.form.input,label:"名称",placeholder:"请输入名称",required:!0,options:""},{field:"number",component:this.$template.form.input,label:"编号",placeholder:"请输入编号",options:""},{field:"status",component:this.$template.form.select,label:"状态",placeholder:"请选择状态",options:{adapter:function(t){return{label:t.label,value:t.value}},values:[{label:"启用",value:1},{label:"停用",value:2},{label:"关闭",value:3}]}}]},entity:{}}},created:function(){this.loadEntity()},methods:{loadEntity:function(){var t=this;this.query&&this.query.id&&this.api.findById(this.$route.query).then(function(e){t.form.entity=e.data.body})},buildEntity:function(){return{id:this.form.entity.id,name:this.form.entity.name,number:this.form.entity.number,status:this.form.entity.status}},handleSave:function(){var t=this,e={body:this.buildEntity(),next:"factory-list"},n=this.$api.FactoryController,i=e.body.id;this.loading=!0,this.$invokeSave2(e,"id",n.add,n.modify,function(e){t.loading=!1,console.log(e.body),i||(t.form.entity.id=e.body.id)}).catch(function(e){t.loading=!1})}}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"factory-container"},[n("gtmc-detail",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[n("gtmc-block",{attrs:{title:"新增工厂"}},[n("el-form",{ref:"form",attrs:{model:t.form.entity,rules:t.form.rules,"label-width":t.form.labelWidth}},[n("template-form-panel",{attrs:{form:t.form,entity:t.form.entity}})],1)],1),t._v(" "),n("div",{attrs:{slot:"button"},slot:"button"},[n("gtmc-button-save",{attrs:{name:"保存"},on:{click:function(e){return t.$handleFormValidate("form",t.handleSave)}}}),t._v(" "),n("gtmc-button-return",{attrs:{name:"取消"},on:{click:function(e){return t.link("factory-list")}}})],1)],1)],1)},staticRenderFns:[]};var l=n("VU/8")(a,o,!1,function(t){n("Ywq6")},null,null);e.default=l.exports}});