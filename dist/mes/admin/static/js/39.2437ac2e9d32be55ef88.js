webpackJsonp([39,85,165,228],{"6OFJ":function(t,e){},DoYw:function(t,e){},Hm5B:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("XtF0"),n=r("oW5U"),s={mixins:[a.default,n.a],props:{order:{type:Object,default:function(){return{}}}},data:function(){return{rowspan:this.getRowspan(),colspan:this.getColspan(),statusTag:{text:"未知状态",type:"info"},tags:{0:{text:"待支付",type:"error"},1:{text:"待使用",type:"warning"},2:{text:"服务中",type:"warning"},3:{text:"已完成",type:"success"},4:{text:"已取消",type:"info"}},firstGoods:{},moreGoods:[]}},components:{},watch:{order:{handler:function(t,e){this.init()},deep:!0}},created:function(){this.init()},methods:{init:function(){this.initStatus(this.order.status),this.initFirstGoods(),this.initMoreGoods(),this.rowspan=this.getRowspan(),this.colspan=this.getColspan()},getColspan:function(){return this.$verify("viewpartsdetail")?"8":"7"},getRowspan:function(){return this.order.ordPartsItemVos?this.order.ordPartsItemVos.length:1},initStatus:function(t){var e=this.tags[t];this.statusTag=e||this.statusTag},initFirstGoods:function(){this.firstGoods=this.order.ordPartsItemVos?this.order.ordPartsItemVos[0]:{}},initMoreGoods:function(){this.order.ordPartsItemVos&&this.order.ordPartsItemVos.length>1?this.moreGoods=this.order.ordPartsItemVos.slice(1):this.moreGoods=[]}}},i={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("gtmc-table-body",{staticClass:"trade-order-parts-list-tab-card"},[r("gtmc-table-white-line",{attrs:{colspan:t.colspan}}),t._v(" "),r("gtmc-table-single-line",{attrs:{colspan:t.colspan}},[r("span",{staticClass:"status"},[t._v("订单状态")]),t._v(" "),r("gtmc-field-status",{attrs:{status:t.$enum(t.STATUS,t.order.status)}}),t._v(" "),r("span",{staticClass:"label"},[t._v("下单时间")]),t._v("："+t._s(t.order.createTime)+"\n    "),r("span",{staticClass:"label"},[t._v("订单编号")]),t._v("："+t._s(t.order.orderId)+"\n  ")],1),t._v(" "),r("gtmc-table-line",[r("td",[r("gtmc-goods-card",{attrs:{image:t.firstGoods.imagePath,title:t.firstGoods.partsGoodsName}})],1),t._v(" "),r("td",[r("gtmc-amount",{attrs:{value:t.firstGoods.salePrice}})],1),t._v(" "),r("td",[t._v("\n      x "+t._s(t.firstGoods.quantity)+"\n    ")]),t._v(" "),r("td",{attrs:{rowspan:t.rowspan}},[r("gtmc-amount",{attrs:{value:t.order.actualAmount,className:"red"}})],1),t._v(" "),r("td",{attrs:{rowspan:t.rowspan}},[t._v("\n      "+t._s(t.order.buyerName)),r("br"),t._v("\n      "+t._s(t.order.buyerMobile)+"\n    ")]),t._v(" "),r("td",{attrs:{rowspan:t.rowspan}},[t._v("\n      "+t._s(t.order.buyerVehName)),r("br"),t._v("\n      "+t._s(t.order.buyerLicensePlateNum)+"\n    ")]),t._v(" "),r("td",{attrs:{rowspan:t.rowspan}},[t._v("\n      "+t._s(t.order.storeName)),r("br"),t._v("\n      "+t._s(t.order.storeCode)+"\n\n    ")]),t._v(" "),t.$verify("viewpartsdetail")?r("td",{attrs:{rowspan:t.rowspan}},[r("router-link",{attrs:{to:{name:"trade-order-parts-detail",query:{orderId:t.order.orderId}}}},[t._v("查看详情")])],1):t._e()]),t._v(" "),t._l(t.moreGoods,function(e,a){return r("gtmc-table-line",{key:a},[r("td",[r("gtmc-goods-card",{attrs:{image:e.imagePath,title:e.partsGoodsName}})],1),t._v(" "),r("td",[r("gtmc-amount",{attrs:{value:e.salePrice}})],1),t._v(" "),r("td",[t._v("\n      x "+t._s(e.quantity)+"\n    ")])])})],2)},staticRenderFns:[]};var o=r("VU/8")(s,i,!1,function(t){r("zQ3D")},null,null);e.default=o.exports},HzLs:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={props:{table:{type:Object,default:function(){return{}}}},data:function(){return{}},components:{},mounted:function(){},methods:{loadTable:function(){this.$emit("query")},handleExport:function(){this.$emit("export")}}},n={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"trade-order-parts-list-query-panel"},[r("gtmc-list-query",{attrs:{cleanText:"清除查询条件",table:t.table},on:{query:function(e){return t.$handleQuery()}}},[r("gtmc-field-input",{attrs:{entity:t.table.query,name:"orderId",label:"订单编号",placeholder:"输入零配件订单编号"},on:{done:function(e){return t.$handleInputQuery()}}}),t._v(" "),r("gtmc-field-input",{attrs:{entity:t.table.query,name:"merchant.name",label:"经销商名称",placeholder:"输入经销商名称"},on:{done:function(e){return t.$handleInputQuery()}}}),t._v(" "),r("gtmc-field-input",{attrs:{entity:t.table.query,name:"user.phone",label:"用户手机号",placeholder:"输入手机号"},on:{done:function(e){return t.$handleInputQuery()}}}),t._v(" "),r("br"),t._v(" "),r("gtmc-field-input",{attrs:{entity:t.table.query,name:"items.skuName",label:"商品名称",placeholder:"输入商品名称"},on:{done:function(e){return t.$handleInputQuery()}}}),t._v(" "),r("gtmc-field-datetime",{attrs:{entity:t.table.query,name:"placedTime",label:"下单时间"}})],1)],1)},staticRenderFns:[]};var s=r("VU/8")(a,n,!1,function(t){r("6OFJ")},null,null);e.default=s.exports},XtF0:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{STATUS:{undefined:{label:"未知状态",code:"unkown",type:"info",step:1},null:{label:"未知状态",code:"unkown",type:"info",step:1},0:{label:"未知状态",code:"unkown",type:"info",step:1},201:{label:"待支付",code:"unpay",type:"error",step:0},202:{label:"待使用",code:"unuse",type:"warning",step:1},205:{label:"待使用",code:"unuse",type:"warning",step:1},204:{label:"服务中",code:"serving",type:"warning",step:2},206:{label:"已完成",code:"finish",type:"success",step:3},203:{label:"已取消",code:"cancel",type:"info",step:1},208:{label:"退款中",code:"refunding",type:"error",step:2},211:{label:"退款失败",code:"refund-fail",type:"error",step:3},209:{label:"已退款",code:"refund-success",type:"error",step:3}}}},methods:{}}},oW5U:function(t,e,r){"use strict";e.a={data:function(){return{auth:{create:this.$auths("create"),modify:this.$auths("modify"),delete:this.$auths("delete"),view:this.$auths("view"),import:this.$auths("import"),export:this.$auths("export")}}}}},scpx:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});r("rddR");var a=r("HzLs"),n=r("Hm5B"),s={props:{active:{type:[String],default:""},name:{type:[String],default:""}},data:function(){return{table:{loading:!1,headers:[{title:"商品信息",width:"auto"},{title:"价格",width:"100"},{title:"数量",width:"50"},{title:"订单金额",width:"100"},{title:"用户信息",width:"100"},{title:"车辆信息",width:"100"},{title:"经销商",width:"150"},{title:"操作",width:"80",hidden:!this.$verify("viewpartsdetail")}],query:{multipleInput:{name:"",values:{}},intevalInputPrice:{}},filters:[],sort:{descs:["placedTime"]},page:this.$gtmc.initPage()}}},components:{QueryPanel:a.default,TabCard:n.default},watch:{active:{handler:function(t,e){t&&t==this.name&&this.loadTable()}}},created:function(){this.active==this.name&&this.loadTable()},methods:{getStatusValue:function(t){switch(t){case"all":return null;case"unpay":return["unpaid"];case"unuse":return["paid","pending"];case"serving":return["using"];case"finish":return["finished"];case"cancel":return["canceled"];case"refunding":return["refunding"];case"refund-fail":return["refundFailure"];case"refund-success":return["refunded"]}},loadTable:function(){var t=this,e=this.handleQueryParam();console.log(e),this.table.loading=!0,this.$api.OrderController.pagePartsOrder(e,function(e){console.log(e.body),t.$gtmc.assembleBody(t.table.page,e.body),t.table.loading=!1})},handleQueryParam:function(){var t=this.$gtmc.assemblePage(this.table),e=this.table.query;return this.$gtmc.appendFilterStatus(t.body.filters,"status",this.getStatusValue(this.name)),this.$gtmc.appendFilter(t.body.filters,"orderId","like",e.orderId),this.$gtmc.appendFilter(t.body.filters,"merchant.name","like",e["merchant.name"]),this.$gtmc.appendFilter(t.body.filters,"items.skuName","like",e["items.skuName"]),this.$gtmc.appendFilter(t.body.filters,"user.phone","like",e["user.phone"]),this.$gtmc.appendFilterDataTime(t.body.filters,"placedTime",e.placedTime),t},handleExport:function(){var t=this,e=this.handleQueryParam();this.$api.OrderController.exportPartsOrder(e,function(e){t.$gtmc.export(e,"EXPORT-PARTS-ORDER-LIST.xlsx")})}}},i={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"trade-order-parts-tab-panel"},[r("query-panel",{attrs:{table:t.table},on:{query:function(e){return t.$handleQuery()},export:function(e){return t.handleExport()}}}),t._v(" "),r("gtmc-table",{directives:[{name:"loading",rawName:"v-loading",value:t.table.loading,expression:"table.loading"}],attrs:{table:t.table}},[r("gtmc-table-header",{attrs:{headers:t.table.headers}}),t._v(" "),t._l(t.table.page.records,function(t,e){return r("tab-card",{key:e,attrs:{order:t}})}),t._v(" "),t.table.page.records&&0==t.table.page.records.length?r("gtmc-table-empty-line",{attrs:{colspan:t.$verify("viewpartsdetail")?8:7}}):t._e()],2),t._v(" "),r("gtmc-list-page",{attrs:{table:t.table},on:{change:function(e){return t.$handleQuery()}}})],1)},staticRenderFns:[]};var o=r("VU/8")(s,i,!1,function(t){r("DoYw")},null,null);e.default=o.exports},zQ3D:function(t,e){}});