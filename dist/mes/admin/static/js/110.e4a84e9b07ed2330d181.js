webpackJsonp([110],{Msqb:function(t,e){},oW5U:function(t,e,a){"use strict";e.a={data:function(){return{auth:{create:this.$auths("create"),modify:this.$auths("modify"),delete:this.$auths("delete"),view:this.$auths("view"),import:this.$auths("import"),export:this.$auths("export")}}}}},paAr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Gu7T"),l=a.n(n),i={mixins:[a("oW5U").a],data:function(){return{auth:{createManual:this.$auths("createManual"),action:this.$auths("modify","delete","createManual")},table:{loading:!1,query:{partsCode:"",itemId:null},sort:{descs:["update_time"]},page:this.$gtmc.initPage()},template:{dialog:{visible:!1,title:"创建保养手册"},selected:{},data:[]},itemOptions:{adapter:function(t){return{label:t.name,value:t.itemId}},values:[]}}},components:{},mounted:function(){var t=this.$route.query.partsCode;t&&(this.table.query.partsCode=t),this.loadTable()},methods:{loadTable:function(){var t=this,e=this.getQueryParam();console.log(e),this.table.loading=!0,this.$api.MaintainManualController.page(e,function(e){t.$gtmc.assembleBody(t.table.page,e.body),t.table.loading=!1})},getQueryParam:function(){var t=this.$gtmc.assemblePage(this.table),e=this.table.query;return this.$gtmc.appendFilter(t.body.filters,"name","like",e.name),this.$gtmc.appendFilter(t.body.filters,"manualType","eq",1),this.$gtmc.appendFilter(t.body.filters,"partsCode","eq",e.partsCode),this.$gtmc.appendFilterDataTime(t.body.filters,"updateTime",e.updateTime),t},loadItems:function(){var t=this;this.$api.ItemController.list({},function(e){e.body&&(t.itemOptions.values=[{name:"全部",itemId:null}].concat(l()(e.body)))})}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"basic-maintain-manual-template-list"},[a("xv-list-query",{attrs:{cleanText:"清除查询条件",table:t.table},on:{query:function(e){return t.$handleQuery()}}},[a("xv-field-input",{attrs:{entity:t.table.query,name:"name",label:"保养手册模板名称",placeholder:"请输入搜索关键字"},on:{done:function(e){return t.$handleInputQuery()}}}),t._v(" "),a("xv-field-datetime",{attrs:{entity:t.table.query,name:"updateTime",label:"更新时间"}}),t._v(" "),a("xv-field-input",{attrs:{entity:t.table.query,name:"partsCode",label:"关联的零配件编号",placeholder:"请输入搜索关键字"},on:{done:function(e){return t.$handleInputQuery()}}})],1),t._v(" "),a("xv-button-panel",{attrs:{auths:t.auth.create}},[a("xv-button-add",{attrs:{name:"新增保养手册模板"},on:{click:function(e){return t.link("basic-maintain-manual-template-create")}}})],1),t._v(" "),a("xv-list-table",{directives:[{name:"loading",rawName:"v-loading",value:t.table.loading,expression:"table.loading"}],attrs:{table:t.table},on:{"sort-change":function(e){return t.$handleQuery()}}},[a("xv-table-column-id",{attrs:{prop:"manualId",label:"保养手册模板ID"}}),t._v(" "),a("xv-table-column-text",{attrs:{prop:"name",label:"保养手册模板名称",sortable:""}}),t._v(" "),a("xv-table-column-description",{attrs:{prop:"description",label:"保养手册模板说明"}}),t._v(" "),a("xv-table-column-date-time",{attrs:{prop:"updateTime",label:"更新时间"}}),t._v(" "),a("xv-table-column-action",{key:t.$columnKey(),attrs:{width:"200",auths:t.auth.action},scopedSlots:t._u([{key:"default",fn:function(e){return[a("xv-link",{attrs:{text:"编辑",name:"basic-maintain-manual-template-detail",query:{manualId:e.row.manualId},auths:t.auth.modify}}),t._v(" "),a("xv-button-text-delete",{attrs:{controller:"MaintainManualController",idKey:"manualId",idValue:e.row.manualId,success:t.$handleQuery,target:"保养手册模板",auths:t.auth.delete}}),t._v(" "),a("router-link",{attrs:{to:{name:"basic-maintain-manual-detail",query:{cloneId:e.row.manualId}},auths:t.auth.createManual}},[t._v("创建保养手册")])]}}])})],1),t._v(" "),a("xv-list-page",{attrs:{table:t.table},on:{change:function(e){return t.$handleQuery()}}})],1)},staticRenderFns:[]};var u=a("VU/8")(i,r,!1,function(t){a("Msqb")},null,null);e.default=u.exports}});